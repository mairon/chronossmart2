<tr class="control-group formSep">	<td width="220" style=" border-bottom: 1px solid #efefef !important;">	  <%= f.collection_select :produto_id, Produto.all( :select => 'id,nome',	      :order  => '2' ),:id,:nome, {prompt: 'Selecione'},{class: 'prod_selt', style: 'width: 220px'} %>	</td>	<td width="150" style=" border-bottom: 1px solid #efefef !important;">	  <%= f.text_area :obs, rows: 1 %>	</td>	<td id="lista_produtos" width="60" align="right" style=" border-bottom: 1px solid #efefef !important;">		<%= f.telephone_field :quantidade, size: 5, :dir   => "rtl", class: 'qtd' %> 	</td>	<td width="100" align="right" style=" border-bottom: 1px solid #efefef !important;">     <span hidden class="valores-us">     	<%= f.telephone_field :unitario_us, size: 10, :class => "money_us unit_us", :dir   => "rtl", :step  => ".01" %>    </span>    <span hidden class="valores-rs">     	<%= f.telephone_field :unitario_rs, size: 10, :class => "money_ds unit_rs", :dir   => "rtl", :step  => ".01" %>    </span>    <span hidden class="valores-gs">     	<%= f.telephone_field :unitario_gs, size: 10, :class => "money_gs unit_gs", :dir   => "rtl", precision: 0 %>    </span>	</td>	<td width="100" align="right" style=" border-bottom: 1px solid #efefef !important;">     <span hidden class="valores-us">     	<%= f.telephone_field :total_us, size: 10, :class => "money_us tot_us", :dir   => "rtl", :step  => ".01" %>    </span>    <span hidden class="valores-rs">     	<%= f.telephone_field :total_rs, size: 10, :class => "money_ds tot_rs", :dir   => "rtl", :step  => ".01" %>    </span>    <span hidden class="valores-gs">     	<%= f.telephone_field :total_gs, size: 10, :class => "money_gs tot_gs", :dir   => "rtl", precision: 0 %>    </span>	</td>	<td width="30" style=" border-bottom: 1px solid #efefef !important;" align="center">		<%= f.hidden_field :_destroy %>		<%= link_to "", "#", class: "icon-trash remove_field" %>	</td></tr><script> $(".qtd").change(function() {	var qtd_id = $(this).attr('id');	var s_unit = qtd_id.replace('quantidade','unitario_gs');	var s_tot  = qtd_id.replace('quantidade','total_gs');	var unit = $('#' + s_unit).val()	var qtd  = $('#' + qtd_id).val()	sum = (parseFloat( qtd.replace(/\./g, "").replace(",", ".")) * parseFloat( unit.replace(/\./g, "").replace(",", ".")) )	$('#' + s_tot).val(number_format( sum, 0, ',', '.'));});$(".unit_gs").bind("keyup keydown", function() {	var unit_id = $(this).attr('id');	var s_qtd  = unit_id.replace('unitario_gs', 'quantidade');	var s_tot  = unit_id.replace('unitario_gs', 'total_gs');	var unit = $('#' + unit_id).val()	var qtd  = $('#' + s_qtd).val()	sum = (parseFloat( qtd.replace(/\./g, "").replace(",", ".")) * parseFloat( unit.replace(/\./g, "").replace(",", ".")) )	$('#' + s_tot).val( number_format( sum, 0, ',', '.') );  var total = 0;  $('.tot_gs').each(function(){    var valor = parseFloat($(this).val().replace(/\./g, "").replace(",", "."));    total += valor;  });  $(".resultado").html(number_format(total, 0, ',', '.'));  $('#contrato_valor_gs').val( number_format( total, 0, ',', '.') );});$(".unit_us").bind("keyup keydown", function() {	var unit_id = $(this).attr('id');	var s_qtd  = unit_id.replace('unitario_us', 'quantidade');	var s_tot  = unit_id.replace('unitario_us', 'total_us');	var unit = $('#' + unit_id).val()	var qtd  = $('#' + s_qtd).val()	sum = (parseFloat( qtd.replace(/\./g, "").replace(",", ".")) * parseFloat( unit.replace(/\./g, "").replace(",", ".")) )	$('#' + s_tot).val( number_format( sum, 2, ',', '.') );  var total = 0;  $('.tot_us').each(function(){    var valor = parseFloat($(this).val().replace(/\./g, "").replace(",", "."));    total += valor;  });  $(".resultado").html(number_format(total, 2, ',', '.'));  $('#contrato_valor_us').val( number_format( total, 2, ',', '.') );});$(".unit_rs").bind("keyup keydown", function() {	var unit_id = $(this).attr('id');	var s_qtd  = unit_id.replace('unitario_rs', 'quantidade');	var s_tot  = unit_id.replace('unitario_rs', 'total_rs');	var unit = $('#' + unit_id).val()	var qtd  = $('#' + s_qtd).val()	sum = (parseFloat( qtd.replace(/\./g, "").replace(",", ".")) * parseFloat( unit.replace(/\./g, "").replace(",", ".")) )	$('#' + s_tot).val( number_format( sum, 4, ',', '.') );  var total = 0;  $('.tot_rs').each(function(){    var valor = parseFloat($(this).val().replace(/\./g, "").replace(",", "."));    total += valor;  });  $(".resultado").html(number_format(total, 4, ',', '.'));  $('#contrato_valor_rs').val( number_format( total, 4, ',', '.') );});$(".tot_rs").bind("change", function() {	var unit_id = $(this).attr('id');	var s_qtd  = unit_id.replace('total_rs', 'quantidade');	var s_tot  = unit_id.replace('total_rs', 'unitario_rs');	var unit = $('#' + unit_id).val()	var qtd  = $('#' + s_qtd).val()	sum = (parseFloat( unit.replace(/\./g, "").replace(",", ".")) / parseFloat( qtd.replace(/\./g, "").replace(",", ".")) )	$('#' + s_tot).val( number_format( sum, 4, ',', '.') );  var total = 0;  $('.tot_rs').each(function(){    var valor = parseFloat($(this).val().replace(/\./g, "").replace(",", "."));    total += valor;  });  $(".resultado").html(number_format(total, 4, ',', '.'));  $('#contrato_valor_rs').val( number_format( total, 4, ',', '.') );});</script>